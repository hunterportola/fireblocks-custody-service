# Multi-Tenant Custody Service Environment Variables

# Control Plane Database (required)
# This database stores tenant registry, API keys, and system metadata
CONTROL_PLANE_DATABASE_URL=postgresql://custody_admin:password@localhost:5432/custody_control_plane

# Admin Database Connection (required for provisioning)
# Must have CREATEDB privileges to provision new tenant databases
ADMIN_DATABASE_URL=postgresql://postgres:password@localhost:5432/postgres

# Tenant Database Encryption Key (required)
# Generate with: openssl rand -hex 32
TENANT_DB_ENCRYPTION_KEY=your_32_byte_hex_key_here

# Turnkey API Configuration (optional - required for disbursements)
TURNKEY_API_BASE_URL=https://api.turnkey.com
TURNKEY_ORGANIZATION_ID=your-org-id
TURNKEY_API_PUBLIC_KEY=your-public-key
TURNKEY_API_PRIVATE_KEY=your-private-key-path
TURNKEY_API_KEY_ID=your-api-key-id

# Internal API token protecting onboarding endpoints
CONTROL_PLANE_API_TOKEN=local-dev-token

# Application Configuration
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# Legacy Database (for backward compatibility - optional)
DATABASE_URL=postgresql://user:password@localhost:5432/custody_legacy
