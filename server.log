🚀 Starting Turnkey Custody API Server...
⚠️ Turnkey client initialization failed: Error: TURNKEY_API_PRIVATE_KEY, TURNKEY_API_PUBLIC_KEY, and TURNKEY_API_KEY_ID must be set in environment
    at SecretsManager.loadFromEnvironment (/Volumes/Drive/Projects/fireblocks-custody-service/dist/core/secrets-manager.js:85:19)
    at SecretsManager.loadSecrets (/Volumes/Drive/Projects/fireblocks-custody-service/dist/core/secrets-manager.js:59:38)
    at TurnkeyClientManager.bootstrap (/Volumes/Drive/Projects/fireblocks-custody-service/dist/core/turnkey-client.js:51:51)
    at TurnkeyClientManager.initialize (/Volumes/Drive/Projects/fireblocks-custody-service/dist/core/turnkey-client.js:31:23)
    at startServer (/Volumes/Drive/Projects/fireblocks-custody-service/dist/api/app.js:12:57)
    at Object.<anonymous> (/Volumes/Drive/Projects/fireblocks-custody-service/dist/api/app.js:70:6)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object..js (node:internal/modules/cjs/loader:1893:10)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
🔄 Server will start but Turnkey features may not work
⚠️  Custody service initialization failed, using fallback: TurnkeyServiceError: Turnkey client manager not initialized
    at TurnkeyClientManager.getInstance (/Volumes/Drive/Projects/fireblocks-custody-service/dist/core/turnkey-client.js:37:19)
    at new TurnkeyDisbursementExecutor (/Volumes/Drive/Projects/fireblocks-custody-service/dist/services/turnkey-disbursement-executor.js:90:79)
    at initializeMVPCustodyService (/Volumes/Drive/Projects/fireblocks-custody-service/dist/services/mvp-custody-integration.js:148:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async CustodyAPIServer.start (/Volumes/Drive/Projects/fireblocks-custody-service/dist/api/server.js:127:13)
    at async startServer (/Volumes/Drive/Projects/fireblocks-custody-service/dist/api/app.js:42:9) {
  code: 'MISSING_CREDENTIALS',
  statusCode: undefined,
  details: undefined,
  context: undefined
}
🚀 Custody API Server running on port 3000
📊 Environment: development
🔒 CORS origins: http://localhost:3000

🔑 Test API Keys:
  - lender_acme_corp_api_key_xyz123
  - lender_demo_api_key_abc789
  - originator_acme_lending_api_key_5u55s56j9n8
  - originator_stellar_loans_api_key_ue162vf99l9

🎉 Custody API Server is ready!
📖 API Documentation:
   Health Check: http://localhost:3000/api/v1/health
   Lender Info:  http://localhost:3000/api/v1/lenders/me
   Disbursements: http://localhost:3000/api/v1/disbursements

🔑 Example API calls:
   curl -H "Authorization: Bearer lender_acme_corp_api_key_xyz123" \
        http://localhost:3000/api/v1/lenders/me

